;!MURBIN

_start: ;; if compiled with stdlib just comment that out
    mov e3 4
    call main
    hlt *r0

include std.string
include std.io

$msg1:
    #"Hello, world!"
$msg2:
    #"Hello, computer!"
$msg3:
    #"Len of msg2: \""
$closing:
    #"\"\n"

main:
    ;call world
    mov r0 $msg3
    call puts
    cpy r0 $msg2
    call puts
    mov r0 $closing
    call puts
    cpy r0 $msg2
    call strlen
    call printnum
    putmacro putchar STD.endl
    ; cpy r0 e3
    ; cpy r1 $msg_for_heap
    ; call strcpy
    ; ;call printnum
    ; mov h_str e3
    ; mov e3 r0
    ; putmacro println h_str
    ; call stackoverflow
    movz r0
    ret

world:
    cpy r0 $msg1
    call putln ; just puts + print newline
    call computer
    ret

computer:
    cpy r0 $msg2
    call putln
    ret
