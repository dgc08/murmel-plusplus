;!MURBIN
; std.io
$STD.endl: ; endl "\n"
    10
    0

defmacro putchar char:
    movz 4
    cpy 5 char
    syscall
macro_end

defmacro putln:
    call puts
    putmacro putchar *$STD.endl
macro_end

scope
puts:
    movz 4
    cpy s1 r0
    l.start:
        jz *r0 l.finish
        cpy 5 *r0
        inc r0
        syscall
        jmp l.start
    l.finish:
        mov r0 s1
        ret
